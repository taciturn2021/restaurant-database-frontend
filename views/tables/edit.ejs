<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
<%- include('../partials/nav') %>

<div class="container">
    <div class="card">
        <h2>Edit Table</h2>
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger">
                <%= error %>
            </div>
        <% } %>

        <form action="/tables/<%= table.id %>/update" method="POST" class="form">
            <div class="form-group">
                <label for="number">Table Number</label>
                <input type="number" id="number" name="number" required class="form-input"
                       value="<%= table.number %>">
            </div>

            <div class="form-group">
                <label for="capacity">Capacity</label>
                <input type="number" id="capacity" name="capacity" required class="form-input"
                       value="<%= table.capacity %>">
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" required class="form-input"
                       value="<%= table.location %>">
            </div>

            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" name="status" required class="form-input">
                    <option value="Available" <%= table.status === 'Available' ? 'selected' : '' %>>Available</option>
                    <option value="Occupied" <%= table.status === 'Occupied' ? 'selected' : '' %>>Occupied</option>
                    <option value="Reserved" <%= table.status === 'Reserved' ? 'selected' : '' %>>Reserved</option>
                    <option value="Out of Service" <%= table.status === 'Out of Service' ? 'selected' : '' %>>Out of Service</option>
                </select>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Table</button>
                <a href="/tables" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
</body>
</html>